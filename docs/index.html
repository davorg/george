<!doctype html>
<html lang="en-GB">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0BQJX01QGT"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-0BQJX01QGT');
  </script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>George and the Smart Home — by Dave Cross</title>

  <!-- Storybook fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Literata:wght@400;600;800&family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #fbf7f1;            /* paper */
      --ink: #3b2f2f;           /* soft dark brown */
      --accent: #d9715d;        /* warm coral */
      --button:#355c7d;         /* storybook blue */
      --button-txt:#fff;
      --shadow: 0 12px 32px rgba(60,40,20,.18);
      --radius: 22px;
    }

    *{box-sizing:border-box}
    html,body{margin:0;height:100%}
    body{
      font-family: "Nunito", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 10% -40%, #fff, transparent 60%),
        radial-gradient(1200px 600px at 110% 120%, #fff, transparent 60%),
        linear-gradient(0deg, #f6efe5 0%, #fff 100%);
      background-color:var(--bg);
      line-height:1.6;
    }

    header{
      padding: clamp(16px, 3vw, 28px);
      max-width: 1200px;
      margin: 0 auto;
    }

    .book-header {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      padding: 1.5rem;
      background: #fffaf3;
      border-bottom: 3px solid #f2e3d5;
    }

    .book-header img.book-cover {
      height: 180px;
      width: auto;
      border-radius: 12px;
      box-shadow: 0 6px 12px rgba(0,0,0,.15);
      flex-shrink: 0;
    }

    .book-header .book-info {
      flex: 1;
    }

    .book-header .book-type {
      font-size: 0.85rem;
      color: #777;
      display: block;
      margin-bottom: 0.25rem;
    }

    .book-header h1 {
      font-family: 'Merriweather', serif;
      font-size: 2rem;
      margin: 0 0 0.5rem;
    }

    .book-header .tagline {
      font-size: 1rem;
      margin: 0 0 0.5rem;
    }

    .book-header h2 {
      font-family: 'Quicksand', sans-serif;
      font-size: 1.1rem;
      font-weight: bold;
      margin: 0 0 1rem;
    }

    .book-header .buy-button {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      background-color: #1b4f72;
      color: #fff;
      font-size: 1rem;
      font-weight: bold;
      border-radius: 999px;
      text-decoration: none;
      box-shadow: 0 4px 8px rgba(0,0,0,.15);
      transition: background 0.2s ease;
    }

    .book-header .buy-button:hover {
      background-color: #163d57;
    }

    /* Stack vertically on narrow screens */
    @media (max-width: 600px) {
      .book-header {
        flex-direction: column;
        align-items: center;
        text-align: center;
      }
    }

    .breadcrumb {font-size:.95rem; opacity:.75}

    h1{
      font-family:"Literata", Georgia, serif;
      font-weight:800;
      font-size: clamp(28px, 4.2vw, 56px);
      margin:.15em 0 .1em;
      letter-spacing:.3px;
    }
    .subtitle{
      font-family:"Literata", Georgia, serif;
      font-size: clamp(15px, 2.1vw, 22px);
      opacity:.95;
    }
    .byline{
      margin-top:.35rem;
      font-weight:800;
      font-size: clamp(14px, 1.9vw, 18px);
      color:#5a4b4b;
    }

    .stage{
      max-width: 1200px;
      margin: 4px auto 0;
      padding: clamp(10px, 2vw, 16px);
    }

    /* Big cosy "book" frame */
    .book{
      position: relative;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      border: 2px solid #efe5d7;
      overflow: hidden;
      background: #fffdf8;
    }

    /* Carousel */
    .carousel{
      position:relative;
      width:100%;
      aspect-ratio: 2 / 1;
      max-height: 80vh;
      background:
        radial-gradient(1800px 600px at 50% -20%, #fffef9 0%, #fff9e9 45%, #f6e9d3 70%, #f0e3ce 100%);
    }

    .slide{
      position:absolute; inset:0;
      display:grid; place-items:center;
      opacity:0; transform:translateX(16px);
      transition: opacity .6s ease, transform .6s ease;
      z-index: 1;
    }
    .slide[aria-current="true"]{ opacity:1; transform:none }

    .page{
      position:relative;
      width:100%; height:100%;
      display:grid; place-items:center;
      background:#fffdf8; /* gentle letterbox colour */
    }

    .page img{
      width:100%; height:100%;
      object-fit: contain;     /* keeps the whole page visible */
      image-rendering: auto;
      border-radius: 14px;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.05);
      background:#fffdf8;
    }

    /* Controls & dots */
    .controls{
      position:absolute;
      inset:0;
      display:flex;
      justify-content:space-between;
      align-items:center;
      pointer-events:none;
      z-index: 5;
    }
    .nav{
      pointer-events:auto;
      background: rgba(255,255,255,.78);
      border: 1px solid rgba(0,0,0,.08);
      width:46px;
      height:46px;
      border-radius:50%;
      margin: 0 10px;
      display:grid;
      place-items:center;
      box-shadow: 0 6px 16px rgba(0,0,0,.14);
      cursor:pointer;
      font-size:22px;
      line-height:1;
    }
    .nav:focus-visible{
       outline:3px solid var(--accent)
    }

    .dots{
      position:absolute;
      left:50%;
      bottom:10px;
      transform:translateX(-50%);
      display:flex;
      gap:8px;
      padding:8px 10px;
      border-radius:20px;
      background: rgba(255,255,255,.75);
      backdrop-filter: blur(4px);
      box-shadow: 0 4px 10px rgba(0,0,0,.08);
      z-index: 4;
    }
    .dots button{
      width:10px;
      height:10px;
      border-radius:50%;
      border:0;
      background:#c9b9a4;
      cursor:pointer;
    }
    .dots button[aria-current="true"]{
      background:var(--accent)
    }

    /* CTA */
    .cta-wrap{
      max-width: 1200px;
      margin: 18px auto 0;
      padding: 0 clamp(12px, 2vw, 16px);
      display:grid; gap:14px;
    }
    .cta{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      align-items:center;
      justify-content:center;
    }
    .buy-btn{
      --pad: clamp(12px, 1.8vw, 16px);
      font-weight:900;
      letter-spacing:.3px;
      padding: var(--pad) clamp(18px, 2.8vw, 26px);
      background:var(--button);
      color:var(--button-txt);
      border:0;
      border-radius: 999px;
      box-shadow: 0 8px 18px rgba(53,92,125,.25);
      cursor:pointer;
      font-size: clamp(16px, 2.2vw, 20px);
    }
    .buy-btn:hover{
       filter:brightness(1.05)
    }
    .buy-hint{
      font-size:.95rem; opacity:.8
    }

    details.more-stores{
      background:#fff;
      border:1px solid #ecdcca;
      border-radius:14px;
      padding:10px 12px;
      box-shadow: var(--shadow);
    }
    details.more-stores summary{
      cursor:pointer;
      font-weight:700
    }
    .store-grid{
      display:grid;
      gap:8px;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      margin-top:10px;
    }
    .store-grid a{
      text-decoration:none;
      text-align:center;
      font-weight:700;
      padding:10px 12px;
      background: #f5eee4;
      border-radius:14px;
      border:1px solid #ead9c7;
      color:#3b2f2f;
    }
    .store-grid a:focus-visible{
       outline:3px solid var(--accent)
    }

    footer{
      max-width:1200px;
      margin: 30px auto 40px;
      padding: 0 clamp(12px, 2vw, 16px);
      font-size:.95rem;
      opacity:.8;
      display:flex;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:12px;
    }
    footer a{
      color:inherit
    }

    /* Mobile tweaks */
    @media (max-width: 820px) {
      .carousel{
        height: clamp(420px, 70vh, 760px)
      }
      .nav{
        width:42px; height:42px
      }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .slide{ transition:none }
    }
  </style>
  <!-- Canonical + description -->
  <link rel="canonical" href="https://george.davecross.co.uk/">
  <meta name="description" content="George lives in a smart home… but it’s not behaving. Join him as he works out what’s gone wonky! A cosy picture book by Dave Cross.">

  <!-- Open Graph -->
  <meta property="og:site_name" content="George and the Smart Home">
  <meta property="og:title" content="George and the Smart Home — a picture book by Dave Cross">
  <meta property="og:description" content="George lives in a smart home… but it’s not behaving. Join him as he works out what’s gone wonky!">
  <meta property="og:type" content="book">
  <meta property="og:url" content="https://george.davecross.co.uk/">
  <meta property="og:image" content="https://george.davecross.co.uk/images/og-1200x630.jpg">
  <meta property="og:image:alt" content="Cover of George and the Smart Home by Dave Cross">
  <meta property="og:locale" content="en_GB">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="George and the Smart Home — Dave Cross">
  <meta name="twitter:description" content="George lives in a smart home… but it’s not behaving. Join him as he works out what’s gone wonky!">
  <meta name="twitter:image" content="https://george.davecross.co.uk/images/og-1200x630.jpg">

</head>
<body>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Book",
  "name": "George and the Smart Home",
  "author": { "@type": "Person", "name": "Dave Cross", "url": "https://davecross.co.uk/" },
  "publisher": { "@type": "Person", "name": "Dave Cross" },
  "inLanguage": "en-GB",
  "isFamilyFriendly": true,
  "genre": ["Children's picture book", "Technology for kids"],
  "description": "George lives in a smart home… but it’s not behaving. Join him as he works out what’s gone wonky!",
  "image": ["https://george.davecross.co.uk/images/cover.jpg"],
  "url": "https://george.davecross.co.uk/",
  "sameAs": [
    "https://www.amazon.co.uk/dp/B09VPLGMBN",
    "https://www.amazon.com/dp/B09VPLGMBN"
  ],
  "potentialAction": {
    "@type": "BuyAction",
    "target": [
      "https://www.amazon.co.uk/dp/B09VPLGMBN",
      "https://www.amazon.com/dp/B09VPLGMBN",
      "https://www.amazon.de/dp/B09VPLGMBN"
    ]
  }
}
  </script>

  <header class="book-header">
    <img src="images/cover.jpg" alt="Cover of George and the Smart Home" class="book-cover">
    <div class="book-info">
      <span class="book-type">A picture book</span>
      <h1>George and the Smart Home</h1>
      <p class="tagline">George lives in a smart home… but it’s not behaving. Join him as he works out what’s gone wonky!</p>
      <h2>by Dave Cross</h2>
      <button id="buyNowHeader"
              class="buy-button"
              data-amazon-asin="B09VPLGMBN"
              data-amazon-tag="davblog-21"
              type="button"></button>
    </div>
  </header>

  <main class="stage" id="main">
    <section class="book" aria-label="Preview pages from George and the Smart Home">
      <div class="carousel" id="carousel" aria-live="polite">
        <!-- Slides injected by JS -->
        <div class="controls">
          <button class="nav" id="prev" aria-label="Previous page" title="Previous">‹</button>
          <button class="nav" id="next" aria-label="Next page" title="Next">›</button>
        </div>
        <div class="dots" id="dots" aria-label="Slide indicators"></div>
      </div>
    </section>

    <!-- CTA / BUY -->
    <section class="cta-wrap" aria-label="Buy the book">
      <div class="cta">
        <button class="buy-btn"
                data-amazon-asin="B09VPLGMBN"
                data-amazon-tag="davblog-21"
                id="buyNow"></button>
        <div class="buy-hint" id="buyHint">We’ll send you to the right Amazon store for your country.</div>
      </div>

      <details class="more-stores">
        <summary>More stores</summary>
        <div class="store-grid" id="storeGrid"></div>
      </details>
    </section>
  </main>

  <footer>
    <div>© <span id="year"></span> Dave Cross</div>
    <div><a href="https://davecross.co.uk/books/" rel="author">More books by the same author</a></div>
  </footer>

  <script>
    // ---------- CONFIG ----------
    const CONFIG = {
      images: [
        {
          src: "images/image-002-003.png",
          alt: "George waving outside a yellow house with a red roof, under a sunny blue sky."
        }, {
          src: "images/image-004-005.png",
          alt: "A smart speaker with a lightning bolt icon sits on a table in a cosy room with striped blue walls and a framed picture."
        }, {
          src: "images/image-006-007.png",
          alt: "A smart speaker with a green power icon on a table in a room with blue striped walls."
        }, {
          src: "images/image-008-009.png",
          alt: "George’s dad, wearing an apron, stands in the kitchen next to a smart speaker showing a red timer icon."
        }, {
          src: "images/image-010-011.png",
          alt: "George’s sister dances on her bed in a pink bedroom while a smart speaker shows a music equaliser icon."
        }, {
          src: "images/image-012-013.png",
          alt: "George’s mum walks towards the stairs while a smart speaker on a table shows a yellow light bulb icon."
        }, {
          src: "images/image-014-015.png",
          alt: "George’s mum and dad stand next to a smart speaker showing a green doorbell icon."
        }, {
          src: "images/image-016-017.png",
          alt: "George frowns next to a smart speaker with a red X icon in a room with blue striped walls."
        }, {
          src: "images/image-018-019.png",
          alt: "George looks upset in his bedroom at night as a smart speaker shows a red X icon."
        }, {
          src: "images/image-020-021.png",
          alt: "George stands in the kitchen looking unhappy as a smart speaker shows a red X icon."
        }, {
          src: "images/image-022-023.png",
          alt: "George smiles next to a smart speaker showing a red X icon, in a room with blue striped walls."
        }, {
          src: "images/image-024-025.png",
          alt: "George looks unhappy near the stairs as a smart speaker shows a red X icon."
        }, {
          src: "images/image-026-027.png",
          alt: "George frowns in the living room with a green armchair and yellow lamp, as a smart speaker shows a red X icon."
        }, {
          src: "images/image-028-029.png",
          alt: "George looks very sad next to a smart speaker with a red X icon in a room with blue striped walls."
        }
      ]
    };

    // ---------- Carousel ----------
    const carousel = document.getElementById('carousel');
    const dots = document.getElementById('dots');
    let index = 0, timer = null;

    const slides = CONFIG.images.map((item, i) => {
      const s = document.createElement('figure');
      s.className = 'slide';
      s.setAttribute('role','group');
      s.setAttribute('aria-roledescription','slide');
      s.setAttribute('aria-label', `Page ${i+1} of ${CONFIG.images.length}`);

      const page = document.createElement('div');
      page.className = 'page';
      const img = document.createElement('img');
      img.src = item.src;
      img.alt = item.alt || "";
      img.loading = "lazy";
      page.appendChild(img);
      s.appendChild(page);
      carousel.appendChild(s);

      const d = document.createElement('button');
      d.setAttribute('aria-label', `Go to page ${i+1}`);
      d.addEventListener('click', () => go(i));
      dots.appendChild(d);
      return s;
    });

    function setCurrent(i){
      slides.forEach((s, n) => s.setAttribute('aria-current', n===i));
      [...dots.children].forEach((d, n) => d.setAttribute('aria-current', n===i));
    }
    function go(i){
      index = (i + slides.length) % slides.length;
      setCurrent(index);
    }

    function play(){
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
      stop();
      timer = setInterval(()=>go(index+1), 3800);
    }
    function stop(){ clearInterval(timer); timer = null; }

    go(0); play();

    carousel.addEventListener('mouseenter', stop);
    carousel.addEventListener('mouseleave', play);
    carousel.addEventListener('focusin', stop);
    carousel.addEventListener('focusout', play);

    document.getElementById('prev').addEventListener('click', ()=>go(index-1));
    document.getElementById('next').addEventListener('click', ()=>go(index+1));

    // swipe on touch
    let x0=null;
    carousel.addEventListener('touchstart', e => x0 = e.touches[0].clientX, {passive:true});
    carousel.addEventListener('touchend', e => {
      if(x0===null) return;
      const dx = e.changedTouches[0].clientX - x0;
      if (Math.abs(dx) > 40) (dx>0) ? go(index-1) : go(index+1);
      x0=null;
    });

    // Pause when tab hidden
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) stop(); else play();
    });

    const year = document.getElementById('year');

    year.textContent = new Date().getFullYear();
  </script>

  <script src="https://cdn.davecross.co.uk/js/amazon-store/v1/amazon-store.min.js" defer></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      AmazonStore.enhanceAll({ tag: 'davblog-21' });
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      AmazonStore.enhanceAll({ tag: 'davblog-21' });   // you already have this
      buildStoreGrid({ asin: 'B09VPLGMBN', tag: 'davblog-21' });
    });

    function buildStoreGrid({ asin, search, tag }) {
      const grid = document.getElementById('storeGrid');
      if (!grid) return;

      // Put the visitor’s region first, then the rest alphabetically
      const current = AmazonStore.detectRegion();
      const entries = Object.entries(AmazonStore.STORES).sort((a, b) => {
        if (a[0] === current) return -1;
        if (b[0] === current) return 1;
        return a[0].localeCompare(b[0]);
      });

      for (const [code, meta] of entries) {
        const href = search
          ? AmazonStore.url(null, { region: code, tag, search })
          : AmazonStore.url(asin, { region: code, tag });

        const a = document.createElement('a');
        a.href = href;
        a.target = '_blank';
        a.rel = 'noopener';
        a.textContent = `Amazon ${meta.name}`;
        a.setAttribute('data-store', code);
        grid.appendChild(a);
      }
    }
  </script>

</body>
</html>
